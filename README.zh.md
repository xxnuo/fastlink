# fastlink

ä¸€ä¸ªå¿«é€Ÿé«˜æ•ˆçš„å·¥å…·ï¼Œç”¨äºå°†æ–‡ä»¶/ç›®å½•ç§»åŠ¨åˆ°å­˜å‚¨ä½ç½®ï¼Œå¹¶åœ¨åŸä½ç½®åˆ›å»ºç¬¦å·é“¾æ¥ï¼Œå¸®åŠ©æ‚¨èŠ‚çœç£ç›˜ç©ºé—´çš„åŒæ—¶ä¿æŒæ–‡ä»¶çš„å¯è®¿é—®æ€§ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ **å¿«é€Ÿæ–‡ä»¶/ç›®å½•æ“ä½œ** ä½¿ç”¨ [github.com/spf13/fileflow](https://github.com/spf13/fileflow)
- ğŸ”— **è‡ªåŠ¨ç¬¦å·é“¾æ¥åˆ›å»º** ç§»åŠ¨æ–‡ä»¶åè‡ªåŠ¨åˆ›å»ºç¬¦å·é“¾æ¥
- ğŸ“ **æ‰¹é‡æ“ä½œ** æ”¯æŒå¤šä¸ªæ–‡ä»¶å’Œç›®å½•çš„æ‰¹é‡å¤„ç†
- âš™ï¸ **çµæ´»é…ç½®** é€šè¿‡ YAML é…ç½®æ–‡ä»¶è¿›è¡Œè®¾ç½®
- ğŸ›¡ï¸ **å®‰å…¨æ£€æŸ¥** é˜²æ­¢é€’å½’æ“ä½œå’Œæ•°æ®ä¸¢å¤±
- ğŸ“‹ **å¤åˆ¶æ¨¡å¼** å¯é€‰æ‹©ä¿ç•™åŸæ–‡ä»¶

## å®‰è£…æ–¹å¼

### ä»æºç å®‰è£…

```bash
git clone https://github.com/xxnuo/fastlink.git
cd fastlink
make install
```

### æ‰‹åŠ¨å®‰è£…

```bash
go build -o fastlink main.go
sudo cp fastlink /usr/local/bin/fastlink
chmod +x /usr/local/bin/fastlink
```

## å¿«é€Ÿå¼€å§‹

1. **åˆ›å»ºé…ç½®æ–‡ä»¶**ï¼ˆå¯é€‰ä½†æ¨èï¼‰ï¼š
   ```bash
   mkdir -p ~/.config/fastlink
   cp config.sample.yaml ~/.config/fastlink/config.yaml
   # ç¼–è¾‘é…ç½®æ–‡ä»¶è®¾ç½®é»˜è®¤ç›®æ ‡è·¯å¾„
   ```

2. **ç§»åŠ¨æ–‡ä»¶å¹¶åˆ›å»ºç¬¦å·é“¾æ¥**ï¼š
   ```bash
   fastlink /path/to/large-file.zip
   ```

3. **å¤åˆ¶æ¨¡å¼ï¼ˆä¿ç•™åŸæ–‡ä»¶ï¼‰**ï¼š
   ```bash
   fastlink -k /path/to/important-file.pdf
   ```

## ä½¿ç”¨æ–¹æ³•

```bash
fastlink [-k|--keep] <æºæ–‡ä»¶> [<ç›®æ ‡ä½ç½®>]
```

### é€‰é¡¹å‚æ•°

- `-k, --keep`: ä¿ç•™åŸæ–‡ä»¶æ¨¡å¼ã€‚å°†æ–‡ä»¶å¤åˆ¶åˆ°ç›®æ ‡ä½ç½®è€Œä¸æ˜¯ç§»åŠ¨ï¼Œå¹¶ä¸”ä¸åœ¨åŸä½ç½®åˆ›å»ºç¬¦å·é“¾æ¥ã€‚

### å‘½ä»¤å‚æ•°

- `<æºæ–‡ä»¶>`: è¦å¤„ç†çš„æ–‡ä»¶æˆ–ç›®å½•ï¼ˆå¿…éœ€ï¼‰
- `<ç›®æ ‡ä½ç½®>`: ç›®æ ‡ä½ç½®ï¼ˆå¦‚æœé…ç½®æ–‡ä»¶ä¸­å·²è®¾ç½®åˆ™å¯é€‰ï¼‰

## é…ç½®è¯´æ˜

åœ¨ `~/.config/fastlink/config.yaml` åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š

```yaml
# é»˜è®¤ç›®æ ‡ç›®å½•
# å½“æ²¡æœ‰æŒ‡å®šç›®æ ‡ç›®å½•æ—¶ï¼Œæ–‡ä»¶å°†è¢«ç§»åŠ¨åˆ°è¿™é‡Œ
destination: "/mnt/storage/fastlink"

# é»˜è®¤ä¿ç•™åŸæ–‡ä»¶
# true:  å¤åˆ¶æ–‡ä»¶ï¼Œä¿ç•™åŸæ–‡ä»¶ï¼ˆä¸åˆ›å»ºç¬¦å·é“¾æ¥ï¼‰
# false: ç§»åŠ¨æ–‡ä»¶ï¼Œåˆ›å»ºç¬¦å·é“¾æ¥ï¼ˆé»˜è®¤è¡Œä¸ºï¼‰
keep: false
```

### é…ç½®ä¼˜å…ˆçº§

1. å‘½ä»¤è¡Œå‚æ•°ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
2. é…ç½®æ–‡ä»¶è®¾ç½®
3. é»˜è®¤å€¼ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰

## ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ç”¨æ³•

**ç§»åŠ¨æ–‡ä»¶åˆ°é…ç½®çš„ç›®æ ‡ä½ç½®ï¼š**
```bash
fastlink ~/Downloads/large-video.mp4
# ç»“æœï¼šæ–‡ä»¶ç§»åŠ¨åˆ° /mnt/storage/fastlink/large-video.mp4
#       åœ¨ ~/Downloads/large-video.mp4 åˆ›å»ºç¬¦å·é“¾æ¥
```

**ç§»åŠ¨ç›®å½•åˆ°æŒ‡å®šä½ç½®ï¼š**
```bash
fastlink ~/Documents/old-projects /backup/archives/
# ç»“æœï¼šç›®å½•ç§»åŠ¨åˆ° /backup/archives/old-projects
#       åœ¨ ~/Documents/old-projects åˆ›å»ºç¬¦å·é“¾æ¥
```

**å¤åˆ¶æ¨¡å¼ï¼ˆä¿ç•™åŸæ–‡ä»¶ï¼‰ï¼š**
```bash
fastlink --keep ~/important-document.pdf ~/backup/
# ç»“æœï¼šæ–‡ä»¶å¤åˆ¶åˆ° ~/backup/important-document.pdf
#       åŸæ–‡ä»¶ ~/important-document.pdf ä¿æŒä¸å˜
```

### é«˜çº§ç”¨æ³•

**å½’æ¡£å¤§å‹ç›®å½•ï¼š**
```bash
# å°†å¤šä¸ªå¤§å‹ç›®å½•ç§»åŠ¨åˆ°å¤–éƒ¨å­˜å‚¨
fastlink ~/Videos/raw-footage /mnt/external/storage/
fastlink ~/Development/old-projects /mnt/external/storage/
fastlink ~/Downloads/iso-files /mnt/external/storage/
```

**å¤‡ä»½é‡è¦æ–‡ä»¶ï¼š**
```bash
# å¤åˆ¶é‡è¦æ–‡ä»¶ä½†ä¿ç•™åŸæ–‡ä»¶
fastlink -k ~/.ssh /backup/ssh-keys/
fastlink -k ~/Documents/contracts /backup/documents/
```

**é‡Šæ”¾ç©ºé—´åŒæ—¶ä¿æŒè®¿é—®ï¼š**
```bash
# ç§»åŠ¨å¤§å‹æ–‡ä»¶ä½†é€šè¿‡ç¬¦å·é“¾æ¥ä¿æŒå¯è®¿é—®
fastlink ~/Downloads/ubuntu-22.04.iso
fastlink ~/Videos/family-vacation-2023
fastlink ~/.cache/large-app-cache
```

### é”™è¯¯æƒ…å†µ

**é˜²æ­¢é€’å½’ç§»åŠ¨ï¼š**
```bash
fastlink /home/user/documents /home/user/documents/backup
# é”™è¯¯ï¼šä¸å…è®¸é€’å½’ç§»åŠ¨
```

**ç¼ºå°‘é…ç½®ï¼š**
```bash
fastlink /some/file
# é”™è¯¯ï¼šæœªæä¾›ç›®æ ‡ä½ç½®ä¸”é…ç½®æ–‡ä»¶ä¸­æœªæ‰¾åˆ°
```

**ç›®æ ‡å·²å­˜åœ¨ï¼š**
```bash
fastlink file.txt /backup/
# å¦‚æœ /backup/file.txt å·²å­˜åœ¨ï¼š
# é”™è¯¯ï¼šç›®æ ‡å·²å­˜åœ¨: /backup/file.txt
```

## å·¥ä½œåŸç†

1. **å®‰å…¨æ£€æŸ¥**ï¼šéªŒè¯æºæ–‡ä»¶å­˜åœ¨å¹¶é˜²æ­¢é€’å½’æ“ä½œ
2. **è·¯å¾„è§£æ**ï¼šå°†æ‰€æœ‰è·¯å¾„è½¬æ¢ä¸ºç»å¯¹è·¯å¾„ä»¥ç¡®ä¿å¯é æ€§
3. **ç›®æ ‡å‡†å¤‡**ï¼šæ ¹æ®éœ€è¦åˆ›å»ºç›®æ ‡ç›®å½•
4. **æ–‡ä»¶æ“ä½œ**ï¼š
   - **æ™®é€šæ¨¡å¼**ï¼šå¤åˆ¶æ–‡ä»¶ â†’ åˆ é™¤åŸæ–‡ä»¶ â†’ åˆ›å»ºç¬¦å·é“¾æ¥
   - **ä¿ç•™æ¨¡å¼**ï¼šä»…å¤åˆ¶æ–‡ä»¶
5. **ç¬¦å·é“¾æ¥åˆ›å»º**ï¼šåˆ›å»ºæŒ‡å‘æ–°ä½ç½®çš„é“¾æ¥

### ç¬¦å·é“¾æ¥è¯´æ˜

å½“ fastlink ç§»åŠ¨æ–‡ä»¶æ—¶ï¼Œå®ƒä¼šåœ¨åŸä½ç½®åˆ›å»ºä¸€ä¸ªæŒ‡å‘æ–°ä½ç½®çš„ç¬¦å·é“¾æ¥ã€‚è¿™æ„å‘³ç€ï¼š

- âœ… åº”ç”¨ç¨‹åºä»å¯ä½¿ç”¨åŸè·¯å¾„è®¿é—®æ–‡ä»¶
- âœ… æ–‡ä»¶çœ‹èµ·æ¥ä»åœ¨åŸä½ç½®
- âœ… å®é™…æ–‡ä»¶æ•°æ®å­˜å‚¨åœ¨ç›®æ ‡ä½ç½®
- âœ… æ‚¨åœ¨åŸä½ç½®èŠ‚çœäº†ç£ç›˜ç©ºé—´

ç¤ºä¾‹ï¼š
```bash
# ä¹‹å‰
/home/user/large-file.zip (1GB æ–‡ä»¶)

# ä¹‹åï¼šfastlink /home/user/large-file.zip
/home/user/large-file.zip -> /mnt/storage/fastlink/large-file.zip
# (ç¬¦å·é“¾æ¥)                    (å®é™… 1GB æ–‡ä»¶)
```

## å®‰å…¨ç‰¹æ€§

- **é€’å½’æ“ä½œé˜²æŠ¤**ï¼šæ— æ³•å°†ç›®å½•ç§»åŠ¨åˆ°è‡ªèº«å†…éƒ¨
- **ç°æœ‰æ–‡ä»¶ä¿æŠ¤**ï¼šä¸ä¼šè¦†ç›–ç›®æ ‡ä½ç½®çš„ç°æœ‰æ–‡ä»¶
- **ç¬¦å·é“¾æ¥å¤„ç†**ï¼šè·³è¿‡ç¬¦å·é“¾æ¥çš„å¤„ç†ä»¥é˜²æ­¢å¾ªç¯
- **è·¯å¾„éªŒè¯**ï¼šç¡®ä¿æ‰€æœ‰è·¯å¾„éƒ½æœ‰æ•ˆä¸”å¯è®¿é—®

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**æƒé™è¢«æ‹’ç»é”™è¯¯ï¼š**
```bash
# ç¡®ä¿æ‚¨å¯¹æºæ–‡ä»¶å’Œç›®æ ‡ä½ç½®éƒ½æœ‰å†™æƒé™
ls -la /path/to/source
ls -la /path/to/destination
```

**ç¬¦å·é“¾æ¥ä¸å·¥ä½œï¼š**
```bash
# æ£€æŸ¥ç¬¦å·é“¾æ¥æ˜¯å¦å­˜åœ¨å¹¶æŒ‡å‘æ­£ç¡®ä½ç½®
ls -la /original/path
readlink /original/path
```

**æ‰¾ä¸åˆ°é…ç½®ï¼š**
```bash
# éªŒè¯é…ç½®æ–‡ä»¶å­˜åœ¨ä¸”å¯è¯»
ls -la ~/.config/fastlink/config.yaml
cat ~/.config/fastlink/config.yaml
```

### è·å–å¸®åŠ©

è¿è¡Œä¸å¸¦å‚æ•°çš„ `fastlink` æŸ¥çœ‹ä½¿ç”¨ä¿¡æ¯ï¼š
```bash
fastlink
```

## å¼€å‘æŒ‡å—

### ä»æºç æ„å»º

```bash
git clone https://github.com/xxnuo/fastlink.git
cd fastlink
go mod download
go build -o fastlink main.go
```

### è¿è¡Œæµ‹è¯•

```bash
go test -v ./...
```

### å¯ç”¨çš„ Make ç›®æ ‡

```bash
make build     # æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶
make test      # è¿è¡Œæµ‹è¯•
make install   # æ„å»ºå¹¶å®‰è£…åˆ° /usr/local/bin
make uninstall # ä» /usr/local/bin åˆ é™¤
```

## ä¾èµ–é¡¹

- [github.com/spf13/fileflow](https://github.com/spf13/fileflow) - å¿«é€Ÿæ–‡ä»¶æ“ä½œ
- [gopkg.in/yaml.v3](https://gopkg.in/yaml.v3) - YAML é…ç½®è§£æ

## å®é™…ä½¿ç”¨åœºæ™¯

### åœºæ™¯1ï¼šæ¸…ç†ä¸‹è½½æ–‡ä»¶å¤¹
```bash
# å°†å¤§å‹ä¸‹è½½æ–‡ä»¶ç§»åŠ¨åˆ°å¤–éƒ¨å­˜å‚¨ï¼Œä½†ä¿æŒåœ¨ä¸‹è½½æ–‡ä»¶å¤¹ä¸­å¯è®¿é—®
fastlink ~/Downloads/large-software.iso /mnt/external/downloads/
fastlink ~/Downloads/video-collection /mnt/external/downloads/
```

### åœºæ™¯2ï¼šå¼€å‘é¡¹ç›®å½’æ¡£
```bash
# å°†æ—§é¡¹ç›®ç§»åŠ¨åˆ°å½’æ¡£å­˜å‚¨ï¼Œä½†åœ¨å¼€å‘ç›®å½•ä¸­ä¿æŒç¬¦å·é“¾æ¥ä»¥ä¾¿æŸ¥é˜…
fastlink ~/Development/legacy-project-v1 /archive/projects/
fastlink ~/Development/experimental-features /archive/projects/
```

### åœºæ™¯3ï¼šåª’ä½“æ–‡ä»¶ç®¡ç†
```bash
# å°†å¤„ç†è¿‡çš„è§†é¢‘æ–‡ä»¶ç§»åŠ¨åˆ° NASï¼Œä½†åœ¨æœ¬åœ°ä¿æŒé“¾æ¥
fastlink ~/Videos/edited-content /nas/media-archive/
fastlink ~/Photos/raw-photos /nas/photo-backup/
```

### åœºæ™¯4ï¼šç³»ç»Ÿç¼“å­˜ä¼˜åŒ–
```bash
# å°†å¤§å‹åº”ç”¨ç¼“å­˜ç§»åŠ¨åˆ°æ›´å¤§çš„å­˜å‚¨ï¼Œé‡Šæ”¾ç³»ç»Ÿç›˜ç©ºé—´
fastlink ~/.cache/large-app /mnt/cache-storage/
fastlink ~/.local/share/Steam /mnt/games-storage/
```

## æœ€ä½³å®è·µ

1. **é…ç½®é»˜è®¤ç›®æ ‡**ï¼šè®¾ç½®é…ç½®æ–‡ä»¶ä»¥é¿å…æ¯æ¬¡æŒ‡å®šç›®æ ‡è·¯å¾„
2. **å®šæœŸæ£€æŸ¥é“¾æ¥**ï¼šå¶å°”éªŒè¯ç¬¦å·é“¾æ¥ä»ç„¶æœ‰æ•ˆ
3. **å¤‡ä»½é‡è¦æ•°æ®**ï¼šå¯¹é‡è¦æ–‡ä»¶ä½¿ç”¨ `-k` é€‰é¡¹è¿›è¡Œå¤åˆ¶è€Œéç§»åŠ¨
4. **ç›‘æ§å­˜å‚¨ç©ºé—´**ï¼šç¡®ä¿ç›®æ ‡å­˜å‚¨æœ‰è¶³å¤Ÿç©ºé—´
5. **æµ‹è¯•é…ç½®**ï¼šåœ¨é‡è¦æ–‡ä»¶ä¸Šä½¿ç”¨å‰å…ˆç”¨æµ‹è¯•æ–‡ä»¶éªŒè¯é…ç½®

## è®¸å¯è¯

æœ¬é¡¹ç›®ä¸ºå¼€æºé¡¹ç›®ã€‚è¯·æŸ¥çœ‹ä»“åº“äº†è§£è®¸å¯è¯è¯¦æƒ…ã€‚

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤é—®é¢˜å’Œæ‹‰å–è¯·æ±‚ã€‚

---

*æ³¨æ„ï¼šç¬¦å·é“¾æ¥åœ¨æŸäº›æ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚ FAT32ï¼‰ä¸Šå¯èƒ½ä¸å—æ”¯æŒã€‚ç¡®ä¿æ‚¨çš„ç›®æ ‡æ–‡ä»¶ç³»ç»Ÿæ”¯æŒç¬¦å·é“¾æ¥åŠŸèƒ½ã€‚*
